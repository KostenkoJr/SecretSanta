        <!-- HERE -->
    <div class="wish-area pb-30 pt-15">
        <div class="container">
            <div class="section-title text-center mb-20">
                <h2>Wish Gallery</h2>
            </div>
            <div class="tab-content">
                <div class="tab-pane active" id="home1" role="tabpanel">
                    <div class="row">
                        <!-- Start one wish from gallery -->
                        @foreach (var wish in ViewBag.Wishes)
                        {
                            <div class="col-md-6 col-lg-4 col-xl-3">
                                <div class="wish-wrapper mb-45">
                                    <div class="wish-img">

                                        @if (wish.PathToPicture == null)
                                        {
                                            <a href="#">
                                                <img id="@("img" + wish.Id)" src="@Url.Content($"~/Files/default-gift.jpg")" alt="" width="270" height="326" />
                                            </a>
                                        }
                                        else
                                        {
                                            <a href="#">
                                                <img src="@Url.Content($"~/Files/{wish.PathToPicture}")" width="270" height="326" alt="" />
                                            </a>
                                        }
                                        @if (@wish.IsComlete)
                                        {
                                            <span class="done is-complete" id="@("wish" + wish.Id.ToString())">DONE</span>
                                        }
                                        else
                                        {
                                            <span class="not-done is-complete" id="@("wish" + wish.Id.ToString())">NOT DONE</span>
                                        }
                                        <div class="wish-action">
                                            <div class="wish-action-style">
                                                <a class="action-plus" title="Quick View" data-toggle="modal" data-target="#exampleModal"
                                                   href="#">
                                                    <i class="ti-plus"></i>
                                                </a>
                                                <a id="add-to-my-wishlist" class="action-heart" title="Add To My Wishlist" href="#" data-wish="@wish.Id">
                                                    <i class="ti-heart"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="wish-content text-center">
                                        <h4>
                                            <a href="wish-details.html">@wish.Title</a>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <!--Confirm Modal-->
        <div class="modal fade" id="ConfirmModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="ConfirmModalTitle">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        You already have a wish on your list with that title. Are you sure you want to add it?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button id="confirm-btn" type="button" class="btn btn-primary">Yes</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-hidden="true">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span class="ion-android-close" aria-hidden="true"></span>
            </button>
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body pb-0">
                        <div class="col-lg-12">
                            <div class="qwick-view-content">
                                <div class="text-center">
                                    <h3>WishName</h3>
                                    <div class="tab-pane active show fade" id="modal1" role="tabpanel">
                                        <img src="assets/img/quick-view/l1.jpg" alt="" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="lg-col-12 pb-30 ml-30 mr-30">
                        <!-- <div class="quick-view-learg-img"> -->
                        <div class="tab-pane active show fade" id="modal1" role="tabpanel">
                            <div class="d-inline">
                                <img src="assets/img/quick-view/l13.png" alt="" />
                            </div>
                            <h4 class="d-inline ">UserName</h4>
                        </div>
                        <!-- </div> -->
                        <div class="price">
                            <span>$90.00</span>
                        </div>
                        <p>Link to shop</p>
                        <p>
                            THERE IS A DESCRIPTION Contrary to popular belief, Lorem Ipsum
                            is not simply random text. It has roots in a piece of classical
                            Latin literature from 45 BC, making it over 2000 years old.
                        </p>

                        <div class="quickview-btn-gift text-center">
                            <a class="btn-style cr-btn" href="#"><span>add to my wishlist</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script>
    const addToWishListArray = document.querySelectorAll('#add-to-my-wishlist');
    addToWishListArray.forEach(el => {
        el.addEventListener('click', (event) => {
            const wishId = el.dataset.wish;
            event.preventDefault();
            fetch(`https://localhost:44360/api/CheckAndAddToMyWishList/${wishId}`)
                .then(res => res.json())
                .then(answer => {
                    if (answer.IsRepeat) {
                        $('#ConfirmModal').modal('show');
                        const confirmBtn = document.querySelector('#confirm-btn');
                        confirmBtn.onclick = (event) => {
                            event.preventDefault();
                            fetch(`https://localhost:44360/api/AddToMyWishList/${wishId}`);
                            $('#ConfirmModal').modal('hide');
                            Notifier.showSuccess("<strong>Wish added to your wishlist</strong>", '<br><p>Your password has been updated!</p>');
                        };
                    }
                    else {
                        Notifier.showSuccess("<strong>Wish added to your wishlist</strong>", '<br><p>Your password has been updated!</p>');
                    }
                });
        });
    });
</script>