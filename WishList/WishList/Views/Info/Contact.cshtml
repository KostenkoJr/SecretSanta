@model SecretSanta.Data.Models.Wish

@{
    ViewBag.Title = "Contact";
}

<div class="wish-details-area hm-3-padding ptb-20">
    <div class="container">
        <div class="section-title text-center mb-20">
            <h2>Contact us</h2>
        </div>
        <div class="row mb-20">
            <div class="col-lg-6">
                <div class="contact-info-wrapper">
                    <h4 class="contact-title">INFORMATION</h4>
                    <div class="communication-info">
                        <div class="single-communication">
                            <div class="communication-icon">
                                <i class="ti-home" aria-hidden="true"></i>
                            </div>
                            <div class="communication-text">
                                <h4>Address:</h4>
                                <p> Peski, Vologodsky District, Vologda Oblast</p>
                                <p>59.800119, 39.100369</p>
                            </div>
                        </div>
                        <div class="single-communication">
                            <div class="communication-icon">
                                <i class="ti-mobile" aria-hidden="true"></i>
                            </div>
                            <div class="communication-text">
                                <h4>Phone:</h4>
                                <p>8(800)555-35-35</p>
                            </div>
                        </div>
                        <div class="single-communication">
                            <div class="communication-icon">
                                <i class="ti-email" aria-hidden="true"></i>
                            </div>
                            <div class="communication-text">
                                <h4>Email:</h4>
                                <p><a href="#">nya.panda22@gmail.com</a></p>
                            </div>
                        </div>
                        <div class="single-communication">
                            <div class="communication-icon">
                                <i class="ti-world" aria-hidden="true"></i>
                            </div>
                            <div class="communication-text">
                                <h4>Website:</h4>
                                <p><a href="#">https://SecretSanta.com</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="contact-message-wrapper">
                    <h4 class="contact-title">GET IN TOUCH</h4>
                    <div class="contact-message">
                        <form id="GetInTouch" action="assets/mail.php" method="post">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="contact-form-style mb-20">
                                        <input name="FullName" placeholder="Full Name" type="text">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="contact-form-style mb-20">
                                        <input name="Email" placeholder="Email Address" type="email">
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="contact-form-style mb-10">
                                        <input name="Subject" placeholder="Subject" type="text">
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="contact-form-style text-center">
                                        <textarea name="Message" placeholder="Message"></textarea>
                                        <button id="SendForm" class="submit cr-btn btn-style" type="submit">
                                            <span>
                                                SEND
                                                MESSAGE
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    //TODO refactoring
    const sendBtn = document.querySelector('#SendForm');
    sendBtn.addEventListener('click', (event) => {
        event.preventDefault();
        const formData = document.querySelector('#GetInTouch');
        const data = {};
        const arr = formData.elements;
        Array.from(arr).forEach(el => {
            data[el.name] = el.value;
        });
        console.log(data)
        const promise = AjaxRequest.ajaxSendForm(data, 'https://localhost:44360/api/GetInTouch');
        promise
            .then(res => {
                Notifier.showSuccess("<strong>We received your letter!</strong>")
            })
            .catch(err => {
                console.log(err)
            })
    });
</script>